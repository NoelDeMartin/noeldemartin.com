---
id: implementing-a-recipes-manager-using-solid-2
blueprint: comment
title: 'Implementing a Recipes Manager using Solid - 2'
task: 'entry::implementing-a-recipes-manager-using-solid'
publication_date: '2021-02-05 16:16:43'
---

On my last update I mentioned that I'd start working on the recipes manager, but some things have come up and I continued working on the authentication workflow. I was already uneasy about hardcoding domains in the code, but this [backfired sooner than I expected](https://github.com/NoelDeMartin/media-kraken/issues/9#issuecomment-754039069). After seeing this and having other conversations, I decided to abandon the strategy of using heuristics. However, asking people what authentication method to use is not a good idea either. So I ended up with a halfway approach. Instead of showing a dropdown with authentication methods, I use DPoP by default, and I've hidden the dropdown behind a "Can't log in?" button. With this approach, most people should log in without any friction and only those experiencing problems will see anything about authentication methods. I also refactored the implementation to decouple authentication libraries from the rest of the codebase. Now it's easy to add any authentication library by extending a class, and I've added [solid-auth-fetcher](https://github.com/solid/solid-auth-fetcher) to the list of options for testing purposes.

So, I deployed this new approach to [Ramen](https://ramen.noeldemartin.com/) and that was it. I wasn't planning on adding it to Media Kraken yet, because there is still [an issue](https://github.com/inrupt/solid-client-authn-js/issues/423) with Inrupt's library that makes UX sub-optimal. However, I was invited to present at [Solid World](https://twitter.com/project_solid/status/1354185441075990534)! This meant that new people would probably check it out, and it would be a shame if they try it with servers that only support DPoP. So I've gone ahead and added it to Media Kraken as well. Now I should be able to forget about authentication for a while. I also found that [I'm relying on something that is not part of the spec](https://github.com/solid/specification/issues/227#issuecomment-773945439), but I can't do anything about it.

Also in preparation for Solid World (albeit tangentially), I decided to take a stab at sharing public data with [Media Kraken Viewer](https://noeldemartin.github.io/media-kraken/viewer). I'll explore this a lot more with recipes, but it can hopefully be useful for some people already. If you want to see an example in action, here's a list with [25 of my favorite movies](https://noeldemartin.github.io/media-kraken/viewer?c=https%3A%2F%2Fdata.noeldemartin.com%2Ffavorite-movies%2F).

So yeah, that was Media Kraken and Solid World. I'm very happy to have presented, and I met more people that have been using my apps and reading this journal. If you want to watch the recording, you can find it [here](https://vimeo.com/508623332#t=666).

Now, back to the recipes manager. Although I've been doing other things, I also did some preparations for it. I started [reading Shape Up](https://noeldemartin.com/tasks/reading-shape-up-by-ryan-singer-basecamp) again, and I want to go back to applying the methodology to my side projects (we all know [how that ended last time](https://noeldemartin.com/tasks/implementing-a-media-tracker-using-solid#comment-10)). I realize one of my mistakes is that I only used the concept of [appetite](https://basecamp.com/shapeup/1.2-chapter-03#setting-the-appetite), without doing any of the actual shaping or [looking at rabbit holes](https://basecamp.com/shapeup/1.4-chapter-05#look-for-rabbit-holes). This time, I've been doing that and I've written a "proper" pitch. It's a bit pointless because I'm selling it to myself, but I found the process useful. I only included 4 goals for this upcoming cycle, and I've listed a lot of things that are out of scope and rabbit holes.

First, I've made a simple diagram of the initial version of the app. This is the main deliberable, everything else can be dropped or reduced with [the scope hammer](https://basecamp.com/shapeup/3.5-chapter-14#scope-hammering). I know the diagram is stupidly simple, and [that's the point](https://basecamp.com/shapeup/1.3-chapter-04#breadboarding).

![Breadboard Diagram](/img/tasks/implementing-a-recipes-tracker-using-solid-breadboarding-1.jpg)

Second, I've decided to create my own ontology to augment the Recipe type on schema.org. I'll talk more about this when it is done, but essentially the schema.org vocabulary is very limited and I want more nuance in my data. But it's also more popular than whatever I make, so I'll try to mixing both in a way that other applications can understand for interoperability.

Third, given that this is my 3rd Solid app, I'll start creating a framework. It's not my intention to announce this as a new project, it's just a way to extract code to avoid repeating myself. But it's very likely that I'll eventually clean it up for others to use. I recently discovered [Vitesse](https://github.com/antfu/vitesse), and it seems very nice so I'll probably draw a lot of inspiration from it. You may have noticed that it's built on top of [Vite](https://github.com/vitejs/vite), and I said in my last update that I wouldn't use it. Well, as part of the shaping process I've given it another chance and I decided to give it another chance. If any library doesn't work with Vite, I'll just compile it with webpack and load the chunk dynamically. Not a great solution, but it doesn't seem like I'll be able to resist the temptation. It's already bad enough that I haven't used Laravel in months because I don't write backend code anymore.

And fourth, I'll bring Soukai up to speed with some things I've learned in the last months. Tinkering with Vite and creating my [utils](https://github.com/noeldemartin/utils) library taught me a lot. One of the things I'm excited to solve is [an issue](https://github.com/NoelDeMartin/soukai/issues/1) I've had since its inception.

This time I'll follow the recommended 6-week cycle length, and I'm not tracking hours like I did last time. I'll start next week, so this should be done by March 22nd. Hopefully, I'll write some updates before that!
