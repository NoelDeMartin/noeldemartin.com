---
id: formatting-devices-with-lineageos-1
blueprint: comment
title: 'Formatting devices with LineageOS - 1'
task: 'entry::formatting-devices-with-lineageos'
publication_date: '2022-01-28 18:21:14'
---

The age of my devices and the fact that they are manufactured by Google may surprise you. Well, I was a different person 7 years ago, and my ideals and opinions on Google have changed a lot since. What hasn't changed much is that I am frugal by nature, and I don't like to buy things that I don't need. So yes, I have thought about replacing my phone and tablet, but to be honest they are still fine at doing their job. I only use my phone to listen to podcasts, browse the web, read books, and ocasionally texting or getting directions. Whilst I only use my tablet to read manga. I've also become more environmentally conscious in the last couple of years. But as much as I'd like to buy something like a [Fairphone](https://www.fairphone.com/en/), the most sustainable phone is the one you already have.

Having said that, I would be lying if I said that they work as smoothly as the first day. That hasn't been a problem so far, but I'm starting to notice. This also happened with my previous phone, a [Sony Ericsson Xperia ray](https://en.wikipedia.org/wiki/Sony_Ericsson_Xperia_ray) from 2011. I was about to throw it out the window when I installed [CyanogenMod](https://en.wikipedia.org/wiki/CyanogenMod) and it gave it a second life. We'll see if it's as efective for these ones.

I wasn't going to journal about this, but a couple of things happened. First, I already formatted the tablet and it wasn't as easy as I thought, so I thought it _may_ be interesting to mention (I'll talk about that in a bit). And second, I realized that last year I only wrote about a single task on my journal ðŸ˜±. It's not that I have dedicated less time to side-projects, but the one I worked on is taking a lot longer than expected. I also did a couple of things that would have deserved their own task. Like [presenting at Solid World](https://noeldemartin.com/tasks/implementing-a-recipes-manager-using-solid#comment-3) or [implementing a CRDT in Solid](https://noeldemartin.com/tasks/implementing-a-recipes-manager-using-solid#comment-11). Hopefully this year I'll do a better job at separating tasks.

With all of that out of the way, here's what I've done so far.

I thought this would be easy because last time I did this it took me less than an hour. But lo and behold, there were some issues with my tablet. Turns out that the latest versions of LineageOS cannot be installed in a Nexus 7 out of the box (codenamed [flo](https://wiki.lineageos.org/devices/flo/#migration-to-flox)). Instead, you need to repartition the disk to convert it into a [flox](https://wiki.lineageos.org/devices/flox/). And that didn't go well.

I started by rooting the device and installing [TWRP](https://twrp.me/). So far so good. But then, I tried to follow [some instructions](https://forum.xda-developers.com/t/guide-repartition-nexus7-2013-to-increase-system-partition-extra-space-for-rom.3599907/) to repartition the disk using [gparted](https://gparted.org/) and I bricked the device :/. To be fair, I should have seen where this was going when I started using gparted through the command-line, and inserting partition sizes by hand. After some digging, I found [a script that automatically resizes the partitions](https://forum.xda-developers.com/t/repartition-nexus-7-2013-repartition-flo-deb-16gb-32gb-ua-twrp.3844386/), but it didn't work (probably because I had messed up the initial partitions). At this point I thought that was it, and left the device for dead for a couple of weeks. But then, when I picked it up again it ocurred to me that maybe I could wipe the entire disk and that would reestablish the default partitions. To my surprise and delight, it worked! So once that was done, I used the repartition script and following [the instructions in the LineageOS wiki](https://wiki.lineageos.org/devices/flox/install) worked flawlesly.

The reason why I formatted the tablet first (other than I don't care as much if I break it) is that I wanted to transfer my 2FA codes in there. I only had them on my phone, and even though I know I can still access the accounts with recovery codes, I'm uneasy thinking that losing my phone would mean losing all the 2FA codes. So I also used this opportunity to transfer them to my computer. You may be thinking that I'm risking too much by having the codes in 3 devices, but the truth is that I don't care about the security of my physical devices. It's still a threat, of course, but what really worries me when it comes to security is software attacks. I'm not famous enough (or at all) to have to worry about this type of security. That's why I don't have the hard drive of my computer encrypted either, or other measures of the sort. Although some day I should probably do it.

Anyhow, getting the 2FA codes from the phone wasn't straight-forward either. I had been using [Google Authenticator](https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator), but I didn't want to install Google Play on the tablet. So I thought it'd be nice to find an open source alternative in [F-Droid](https://f-droid.org/). Now I'm using [andOTP](https://github.com/andOTP/andOTP) in the tablet and [a browser extension](https://github.com/Authenticator-Extension/Authenticator) in my computer. Google Authenticator has a feature to export the codes; but of course, it only works to transfer them to another device using Google Authenticator. Fortunately, I could find [a script to extract the actual codes](https://github.com/krissrex/google-authenticator-exporter) and that was it.

So yeah, now my tablet is working with LineageOS! But this story doesn't have a happy ending :(. The main annoyance of the tablet was that touch sensitivity wasn't working great. And I can't imagine why; I have used my phone 100x more and it's almost the same age, built by the same manufacturer, but the touch works well. So I thought it may have something to do with the software, but after formatting I know it doesn't. I'm not sure if I'll be able to fix this without replacing the device; but given that I only use it to read manga, it's not a huge issue for now.
