---
id: implementing-a-media-tracker-using-solid-1
blueprint: comment
title: 'Implementing a Media Tracker using Solid - 1'
task: 'entry::implementing-a-media-tracker-using-solid'
publication_date: '2020-01-26 12:18:13'
---

I've started working on this and you can find the code [here](https://github.com/noeldemartin/media-tracker). I tried to find a good name for this app but nothing came to mind, for now I am calling it `media-tracker`. I'm not happy with it, so it'll probably change before I'm done with the task.

Other than naming, something I've come across that I'd like to improve is the scaffolding. I'm starting to duplicate a lot of code across projects, so I'll probably release some packages with utilities. One will be plain javascript utilities, for example I have a [wrapper for localStorage](https://github.com/NoelDeMartin/solid-focus/blob/master/src/utils/Storage.ts), [Array utilities](https://github.com/NoelDeMartin/soukai/blob/master/src/internal/utils/Arr.ts), [Object utilities](https://github.com/NoelDeMartin/soukai/blob/master/src/internal/utils/Obj.ts), etc. Many of these are inspired by [Laravel helpers](https://laravel.com/docs/6.x/helpers). And another package will contain application scaffolding for Autonomous Data apps using [Vue](https://vuejs.org/) and [Soukai](https://soukai.js.org/).

But of course, not everything was useless. Every time that I create a project from scratch, it's a good opportunity to see if I can improve something in my setup. This time, I learned more about how I am using service workers in my PWAs. Vue cli comes with [Workbox](https://developers.google.com/web/tools/workbox/) installed out of the box, but I've been having some issues pushing updates to clients. I suspect that this has something to do with the default [strategy](https://developers.google.com/web/tools/workbox/modules/workbox-strategies). It seems that apps use precaching with the default configuration, which acts similar to the CacheFirst strategy. The problem with this would be that new code won't reach the clients until the cache is invalidated. So in [my new configuration](https://github.com/NoelDeMartin/media-tracker/blob/1315362549e55570567b6629e153551c85b50537/vue.config.js#L15..L37) I am using StaleWhileRevalidate for index.html and all other assets can keep using CacheFirst because they are versioned. The truth is that I still have to learn more about this, but for now I'd say it's good enough (and it's not the main goal of this task).

Finally, other than all the house keeping, I've also started working on application specifics. When it comes to Solid, something that continues being a problem for me is finding fitting RDF definitions. But this time, I was lucky because [schema.org](https://schema.org/) already supports Movies. It also supports [watch actions](https://schema.org/WatchAction), so it doesn't seem like modeling will be a problem this time. But there is something new in this app that I'll need to investigate. In [solid-focus](https://github.com/NoelDeMartin/solid-focus), I am using one document per resource. But for this app, I think it's a better approach to keep actions in the same document as the movie they are referencing. Actually my initial idea was to have a simple date attribute to indicate when a movie had been watched, but after looking into schema.org I decided to use their approach. This also makes me ponder if actions should be [resources](https://www.w3.org/TR/ldp-primer/#intro-section) at all, which doesn't make a lot of sense to me. So I'll have to investigate more on this.
